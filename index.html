<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Äá» Kiá»ƒm Tra Lá»‹ch Sá»­ - Äá» Sá»‘ 21</title>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<style>
  :root{--red:#c0392b;--red-dark:#922b21;--red-light:#fadbd8;--gold:#d4a017;--gold-light:#fef9e7;--navy:#1a2744;--navy-mid:#2c3e6b;--gray-50:#f8f9fa;--gray-100:#f0f2f5;--gray-200:#e4e7ec;--gray-400:#9ca3af;--gray-600:#4b5563;--gray-800:#1f2937;--green:#16a34a;--green-light:#dcfce7;--orange:#ea580c;--shadow-lg:0 8px 40px rgba(26,39,68,0.16);}
  *{box-sizing:border-box;margin:0;padding:0;}
  body{font-family:'Be Vietnam Pro',sans-serif;background:linear-gradient(135deg,#1a2744 0%,#2c3e6b 50%,#1a2744 100%);min-height:100vh;color:var(--gray-800);}
  .site-header{background:rgba(255,255,255,0.04);border-bottom:1px solid rgba(255,255,255,0.1);padding:0 2rem;display:flex;align-items:center;justify-content:space-between;height:64px;position:sticky;top:0;z-index:100;backdrop-filter:blur(12px);}
  .header-title{font-family:'Playfair Display',serif;color:#fff;font-size:1.2rem;letter-spacing:0.5px;}
  .header-title span{color:var(--gold);}
  .timer-wrap{display:flex;align-items:center;gap:0.6rem;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);border-radius:40px;padding:0.4rem 1.2rem;}
  #timer-display{font-size:1.3rem;font-weight:700;color:#fff;font-variant-numeric:tabular-nums;letter-spacing:2px;}
  #timer-display.warning{color:var(--gold);animation:pulse 1s infinite;}
  #timer-display.danger{color:#ff6b6b;animation:pulse 0.5s infinite;}
  @keyframes pulse{0%,100%{opacity:1;}50%{opacity:0.5;}}
  .header-meta{font-size:0.82rem;color:rgba(255,255,255,0.6);}
  .main-container{max-width:900px;margin:0 auto;padding:2rem 1rem 4rem;}
  .progress-bar-outer{background:rgba(255,255,255,0.1);border-radius:8px;height:8px;margin-bottom:1.5rem;overflow:hidden;}
  .progress-bar-inner{background:linear-gradient(90deg,var(--gold),#f59e0b);height:100%;border-radius:8px;transition:width 0.4s ease;}
  .progress-label{text-align:center;color:rgba(255,255,255,0.7);font-size:0.82rem;margin-bottom:1rem;}
  .section-title{background:linear-gradient(135deg,var(--red) 0%,var(--red-dark) 100%);color:#fff;border-radius:12px 12px 0 0;padding:1rem 1.5rem;font-size:1rem;font-weight:700;display:flex;align-items:center;gap:0.6rem;}
  .section-title .badge{background:rgba(255,255,255,0.2);border-radius:20px;padding:0.15rem 0.6rem;font-size:0.78rem;font-weight:500;}
  .card{background:#fff;border-radius:0 0 16px 16px;box-shadow:var(--shadow-lg);margin-bottom:2rem;overflow:hidden;}
  .question-block{padding:1.2rem 1.5rem;border-bottom:1px solid var(--gray-100);transition:background 0.2s;}
  .question-block:last-child{border-bottom:none;}
  .question-block.answered{background:#f8fffe;}
  .q-header{display:flex;align-items:flex-start;gap:0.8rem;margin-bottom:0.8rem;}
  .q-num{background:var(--navy);color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.78rem;font-weight:700;flex-shrink:0;margin-top:0.05rem;}
  .q-text{font-size:0.95rem;font-weight:500;line-height:1.6;color:var(--gray-800);}
  .q-blockquote{background:var(--gray-50);border-left:4px solid var(--red);border-radius:0 8px 8px 0;padding:1rem 1.2rem;margin:0.7rem 0 0.9rem;font-size:0.875rem;line-height:1.75;color:var(--gray-600);font-style:italic;white-space:pre-line;}
  .q-blockquote .source{display:block;margin-top:0.5rem;font-size:0.8rem;color:var(--gray-400);font-style:normal;}
  .info-table{width:100%;border-collapse:collapse;font-size:0.87rem;margin:0.7rem 0 0.9rem;border-radius:8px;overflow:hidden;box-shadow:0 0 0 1px var(--gray-200);}
  .info-table th{background:var(--navy);color:#fff;padding:0.65rem 1rem;text-align:left;font-weight:600;}
  .info-table td{padding:0.6rem 1rem;border-bottom:1px solid var(--gray-100);line-height:1.6;vertical-align:top;}
  .info-table tr:last-child td{border-bottom:none;}
  .info-table tr:nth-child(even) td{background:var(--gray-50);}
  .options-grid{display:grid;gap:0.5rem;padding:0 0 0 2.5rem;}
  .option-label{display:flex;align-items:flex-start;gap:0.6rem;padding:0.55rem 0.9rem;border:1.5px solid var(--gray-200);border-radius:8px;cursor:pointer;transition:all 0.18s;font-size:0.9rem;line-height:1.45;background:#fff;}
  .option-label:hover{border-color:var(--navy);background:var(--gray-50);}
  .option-label input{display:none;}
  .option-label.selected{border-color:var(--navy-mid);background:#eef2ff;}
  .opt-key{font-weight:700;color:var(--navy);min-width:18px;font-size:0.88rem;}
  .tf-grid{display:flex;gap:0.6rem;padding:0 0 0 2.5rem;margin-top:0.4rem;}
  .tf-label{display:flex;align-items:center;gap:0.4rem;padding:0.4rem 1.1rem;border:1.5px solid var(--gray-200);border-radius:6px;cursor:pointer;font-size:0.88rem;font-weight:600;transition:all 0.18s;background:#fff;}
  .tf-label:hover{border-color:var(--navy);}
  .tf-label input{display:none;}
  .tf-label.selected-true{border-color:var(--green);background:var(--green-light);color:var(--green);}
  .tf-label.selected-false{border-color:var(--red);background:var(--red-light);color:var(--red-dark);}
  .sub-q{font-size:0.88rem;color:var(--gray-600);margin-bottom:0.35rem;font-weight:500;padding:0 0 0 2.5rem;}
  .sub-q-block{margin-bottom:0.8rem;}
  .actions-bar{position:sticky;bottom:0;background:rgba(26,39,68,0.97);backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,0.1);padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;gap:1rem;z-index:90;}
  .action-info{color:rgba(255,255,255,0.7);font-size:0.85rem;}
  .btn-group{display:flex;gap:0.8rem;}
  .btn{font-family:'Be Vietnam Pro',sans-serif;font-size:0.9rem;font-weight:700;border:none;border-radius:8px;padding:0.65rem 1.5rem;cursor:pointer;transition:all 0.18s;}
  .btn-secondary{background:rgba(255,255,255,0.1);color:#fff;border:1px solid rgba(255,255,255,0.2);}
  .btn-secondary:hover{background:rgba(255,255,255,0.18);}
  .btn-primary{background:linear-gradient(135deg,var(--red) 0%,var(--red-dark) 100%);color:#fff;box-shadow:0 2px 12px rgba(192,57,43,0.4);}
  .btn-primary:hover{transform:translateY(-1px);box-shadow:0 4px 20px rgba(192,57,43,0.5);}
  .btn-gold{background:linear-gradient(135deg,var(--gold) 0%,#b8860b 100%);color:#fff;box-shadow:0 2px 12px rgba(212,160,23,0.4);}
  .btn-gold:hover{transform:translateY(-1px);}
  #result-screen{display:none;}
  .result-card{background:#fff;border-radius:20px;box-shadow:var(--shadow-lg);overflow:hidden;margin-bottom:2rem;}
  .result-header{background:linear-gradient(135deg,var(--navy) 0%,var(--navy-mid) 100%);padding:2.5rem 2rem;text-align:center;color:#fff;}
  .result-header h2{font-family:'Playfair Display',serif;font-size:1.8rem;margin-bottom:0.5rem;}
  .score-big{font-size:4rem;font-weight:800;color:var(--gold);line-height:1;margin:1rem 0 0.5rem;}
  .score-detail{color:rgba(255,255,255,0.75);font-size:0.9rem;}
  .score-breakdown{display:grid;grid-template-columns:1fr 1fr;gap:0;}
  .score-box{padding:1.2rem 1.5rem;border-right:1px solid var(--gray-100);border-bottom:1px solid var(--gray-100);text-align:center;}
  .score-box:nth-child(2){border-right:none;}
  .score-box:nth-child(3),.score-box:nth-child(4){border-bottom:none;}
  .score-box .label{font-size:0.82rem;color:var(--gray-400);margin-bottom:0.3rem;}
  .score-box .val{font-size:1.5rem;font-weight:800;color:var(--navy);}
  .review-section{padding:1.5rem;}
  .review-title{font-size:1rem;font-weight:700;color:var(--navy);margin-bottom:1rem;padding-bottom:0.5rem;border-bottom:2px solid var(--gray-100);}
  .review-item{padding:1rem 1.2rem;border-radius:10px;margin-bottom:0.8rem;background:var(--gray-50);border:1.5px solid var(--gray-200);}
  .review-item.correct{background:#f0fdf4;border-color:#86efac;}
  .review-item.wrong{background:#fff5f5;border-color:#fca5a5;}
  .review-q-text{font-size:0.9rem;font-weight:600;margin-bottom:0.5rem;color:var(--gray-800);}
  .review-answer{font-size:0.85rem;margin-bottom:0.2rem;}
  .answer-your{color:var(--orange);}
  .answer-correct{color:var(--green);}
  .review-status{display:inline-flex;align-items:center;gap:0.3rem;font-size:0.8rem;font-weight:700;padding:0.2rem 0.6rem;border-radius:20px;margin-bottom:0.5rem;}
  .status-correct{background:var(--green-light);color:var(--green);}
  .status-wrong{background:#fee2e2;color:var(--red);}
  .status-partial{background:var(--gold-light);color:#856404;}
  .review-blockquote{font-size:0.8rem;line-height:1.6;color:var(--gray-600);background:var(--gray-50);border-left:3px solid var(--red);padding:0.5rem 0.8rem;border-radius:0 6px 6px 0;margin:0.4rem 0;font-style:italic;white-space:pre-line;}
  .modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:200;align-items:center;justify-content:center;}
  .modal-overlay.show{display:flex;}
  .modal-box{background:#fff;border-radius:16px;padding:2rem;max-width:400px;width:90%;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.3);animation:pop 0.25s ease;}
  @keyframes pop{from{transform:scale(0.85);opacity:0;}to{transform:scale(1);opacity:1;}}
  .modal-icon{font-size:2.5rem;margin-bottom:0.8rem;}
  .modal-title{font-size:1.2rem;font-weight:700;color:var(--navy);margin-bottom:0.5rem;}
  .modal-text{font-size:0.9rem;color:var(--gray-600);margin-bottom:1.5rem;line-height:1.5;}
  .modal-buttons{display:flex;gap:0.8rem;justify-content:center;}
  .btn-modal-cancel{background:var(--gray-100);color:var(--gray-800);}
  .btn-modal-cancel:hover{background:var(--gray-200);}
  .btn-modal-ok{background:var(--red);color:#fff;}
  .btn-modal-ok:hover{background:var(--red-dark);}
  .fade-in{animation:fadeIn 0.5s ease both;}
  @keyframes fadeIn{from{opacity:0;transform:translateY(16px);}to{opacity:1;transform:translateY(0);}}
  @media(max-width:600px){.main-container{padding:1rem 0.5rem 5rem;}.question-block{padding:1rem;}.options-grid,.tf-grid,.sub-q{padding-left:1.2rem;}.site-header{padding:0 1rem;}.actions-bar{padding:0.8rem 1rem;}.score-breakdown{grid-template-columns:1fr;}.score-box{border-right:none;}}
</style>
</head>
<body>

<div class="modal-overlay" id="submit-modal">
  <div class="modal-box">
    <div class="modal-icon">ğŸ“‹</div>
    <div class="modal-title">Ná»™p bÃ i kiá»ƒm tra?</div>
    <div class="modal-text" id="modal-unanswered-text">Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n ná»™p bÃ i?</div>
    <div class="modal-buttons">
      <button class="btn btn-modal-cancel" onclick="closeModal()">LÃ m tiáº¿p</button>
      <button class="btn btn-modal-ok" onclick="submitExam()">Ná»™p bÃ i</button>
    </div>
  </div>
</div>

<header class="site-header">
  <div class="header-title"><span>Äá»€ Sá» 21</span> â€” Kiá»ƒm Tra Lá»‹ch Sá»­</div>
  <div class="timer-wrap">
    <span style="font-size:1.1rem">â±</span>
    <span id="timer-display">45:00</span>
  </div>
  <div class="header-meta">45 phÃºt</div>
</header>

<div id="exam-screen">
  <div class="main-container">
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="progress-bar" style="width:0%"></div></div>
    <div class="progress-label" id="progress-label">ÄÃ£ tráº£ lá»i: 0 / 40 cÃ¢u/Ã½</div>

    <div class="section-title">ğŸ“š PHáº¦N I â€” Tráº¯c nghiá»‡m má»™t Ä‘Ã¡p Ã¡n <span class="badge">24 cÃ¢u Ã— 0.25Ä‘</span></div>
    <div class="card"><div class="card-body" id="part1-container"></div></div>

    <div class="section-title">ğŸ“– PHáº¦N II â€” ÄÃºng / Sai <span class="badge">4 cÃ¢u Ã— 4 Ã½</span></div>
    <div class="card"><div class="card-body" id="part2-container"></div></div>
  </div>
  <div class="actions-bar">
    <div class="action-info" id="action-info">ChÆ°a tráº£ lá»i cÃ¢u nÃ o</div>
    <div class="btn-group">
      <button class="btn btn-secondary" onclick="resetExam()">ğŸ” LÃ m láº¡i</button>
      <button class="btn btn-primary" onclick="openSubmitModal()">ğŸ“¤ Ná»™p bÃ i</button>
    </div>
  </div>
</div>

<div id="result-screen">
  <div class="main-container fade-in">
    <div class="result-card">
      <div class="result-header">
        <h2>ğŸ‰ Káº¿t Quáº£ Kiá»ƒm Tra</h2>
        <div>Äá» Sá»‘ 21 â€” Lá»‹ch Sá»­</div>
        <div class="score-big" id="result-total">0.00</div>
        <div class="score-detail">/ 10.00 Ä‘iá»ƒm</div>
      </div>
      <div class="score-breakdown">
        <div class="score-box"><div class="label">Pháº§n I (24 cÃ¢u)</div><div class="val" id="res-p1">0.00</div></div>
        <div class="score-box"><div class="label">Pháº§n II (4 cÃ¢u)</div><div class="val" id="res-p2">0.00</div></div>
        <div class="score-box"><div class="label">Sá»‘ cÃ¢u Ä‘Ãºng P.I</div><div class="val" id="res-p1-correct">0/24</div></div>
        <div class="score-box"><div class="label">Thá»i gian lÃ m</div><div class="val" id="res-time">--:--</div></div>
      </div>
    </div>
    <div class="result-card"><div class="review-section" id="review-container"></div></div>
    <div style="text-align:center;padding-bottom:2rem;">
      <button class="btn btn-gold" onclick="resetExam()" style="padding:0.8rem 2.5rem;font-size:1rem;">ğŸ” LÃ m láº¡i vá»›i cÃ¢u há»i trÃ¡o Ä‘á»•i</button>
    </div>
  </div>
</div>

<script>
// ============================================================
// DATA â€” Äá»€ Sá» 21
// ============================================================
const PART1_ORIGINAL = [
  {id:'p1_1',text:'Trong quÃ¡ trÃ¬nh truy quÃ©t quÃ¢n Ä‘á»™i phÃ¡t xÃ­t cá»§a Há»“ng quÃ¢n LiÃªn XÃ´, khu vá»±c nÃ o sau Ä‘Ã¢y Ä‘Ã£ thÃ nh láº­p Ä‘Æ°á»£c cÃ¡c nhÃ  nÆ°á»›c dÃ¢n chá»§?',options:{A:'ÄÃ´ng Ã‚u.',B:'TÃ¢y Ã‚u.',C:'Nam Ã‚u.',D:'Báº¯c Ã‚u.'},answer:'A'},
  {id:'p1_2',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y pháº£n Ã¡nh nhá»¯ng khÃ³ khÄƒn mÃ  cÃ¡ch máº¡ng Cuba pháº£i Ä‘Æ°Æ¡ng Ä‘áº§u tá»« sau nÄƒm 1991?',options:{A:'Sá»± chá»‘ng phÃ¡, biá»ƒu tÃ¬nh cá»§a cÃ¡c chÃ­nh Ä‘á»‘i láº­p.',B:'Khá»§ng hoáº£ng chÃ­nh trá»‹ xÃ£ há»™i trá»Ÿ nÃªn ráº¥t gay gáº¯t.',C:'NhÃ¢n dÃ¢n khÃ´ng á»§ng há»™ cháº¿ Ä‘á»™ xÃ£ há»™i chá»§ nghÄ©a.',D:'Lá»‡nh cáº¥m váº­n kÃ©o dÃ i cá»§a Má»¹ vÃ  phÆ°Æ¡ng TÃ¢y.'},answer:'D'},
  {id:'p1_3',text:'Tháº¥t báº¡i nÃ o sau Ä‘Ã¢y Ä‘Ã£ dáº«n tá»›i káº¿t quáº£ Viá»‡t Nam tá»« má»™t nÆ°á»›c Ä‘á»™c láº­p trá»Ÿ thÃ nh thuá»™c Ä‘á»‹a cá»§a thá»±c dÃ¢n phÆ°Æ¡ng TÃ¢y?',options:{A:'KhÃ¡ng chiáº¿n chá»‘ng quÃ¢n Nam HÃ¡n cá»§a NgÃ´ Quyá»n.',B:'KhÃ¡ng chiáº¿n chá»‘ng quÃ¢n Thanh cá»§a Quang Trung.',C:'KhÃ¡ng chiáº¿n chá»‘ng quÃ¢n MÃ´ng - NguyÃªn cá»§a nhÃ  Tráº§n.',D:'KhÃ¡ng chiáº¿n chá»‘ng PhÃ¡p cá»§a triá»u Ä‘Ã¬nh nhÃ  Nguyá»…n.'},answer:'D'},
  {id:'p1_4',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y pháº£n Ã¡nh Ä‘Ãºng nguyÃªn nhÃ¢n dÃ¢n tá»™c Viá»‡t Nam thÆ°á»ng xuyÃªn pháº£i Ä‘Æ°Æ¡ng Ä‘áº§u vá»›i cÃ¡c tháº¿ lá»±c ngoáº¡i xÃ¢m?',options:{A:'LÃ  quá»‘c gia cÃ³ vá»‹ trÃ­ Ä‘á»‹a chiáº¿n lÆ°á»£c quan trá»ng.',B:'ÄÆ°á»£c xem lÃ  cÃ¡i nÃ´i cá»§a vÄƒn minh nhÃ¢n loáº¡i.',C:'LÃ  trung tÃ¢m vÄƒn hÃ³a báº­c nháº¥t phÆ°Æ¡ng ÄÃ´ng.',D:'LÃ  má»™t quá»‘c gia chÆ°a cÃ³ Ä‘á»™c láº­p, chá»§ quyá»n.'},answer:'A'},
  {id:'p1_5',text:'Äá»ƒ duy trÃ¬ hÃ²a bÃ¬nh vÃ  an ninh tháº¿ giá»›i sau Chiáº¿n tranh tháº¿ giá»›i thá»© 2, Há»™i nghá»‹ Ianta (2/1945) Ä‘Ã£ quyáº¿t Ä‘á»‹nh',options:{A:'thÃ nh láº­p Há»™i Ä‘á»“ng Báº£o an.',B:'thÃ nh láº­p tá»• chá»©c LiÃªn há»£p quá»‘c.',C:'thÃ nh láº­p tá»• chá»©c Há»™i quá»‘c liÃªn.',D:'cáº¥m phá»• biáº¿n vÅ© khÃ­ háº¡t nhÃ¢n.'},answer:'B'},
  {id:'p1_6',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y pháº£n Ã¡nh Ä‘Ãºng báº£n cháº¥t cá»§a cÃ¡c thá»a thuáº­n vá» viá»‡c Ä‘Ã³ng quÃ¢n vÃ  phÃ¢n chia pháº¡m vi áº£nh hÆ°á»Ÿng giá»¯a ba cÆ°á»ng quá»‘c trong Há»™i nghá»‹ Ianta (2/1945)?',options:{A:'PhÃ¢n chia pháº¡m vi áº£nh hÆ°á»Ÿng giá»¯a LiÃªn XÃ´ vÃ  MÄ©.',B:'Táº¡o cÆ¡ há»™i cho cÃ¡c dÃ¢n tá»™c Ä‘á»©ng lÃªn tá»± giáº£i phÃ³ng.',C:'Thiáº¿t láº­p tráº­t tá»± tháº¿ giá»›i "Ä‘Æ¡n cá»±c" giá»¯a Má»¹ vÃ  Anh.',D:'Pháº£n Ã¡nh sá»± lá»›n máº¡nh nhanh chÃ³ng cá»§a LiÃªn XÃ´.'},answer:'A'},
  {id:'p1_7',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ½ giáº£i Ä‘Ãºng cho luáº­n Ä‘iá»ƒm "Káº¿ hoáº¡ch Nava khi má»›i ra Ä‘á»i Ä‘Ã£ hÃ m chá»©a yáº¿u tá»‘ tháº¥t báº¡i"?',options:{A:'PhÃ¡p lá»‡ thuá»™c ngÃ y cÃ ng lá»›n vÃ o sá»± viá»‡n trá»£, giÃºp Ä‘á»¡ cá»§a Má»¹.',B:'NÆ°á»›c PhÃ¡p Ä‘ang rÆ¡i vÃ o cuá»™c khá»§ng hoáº£ng kinh táº¿ vÃ  chÃ­nh trá»‹.',C:'QuÃ¢n Ä‘á»™i nhÃ¢n dÃ¢n Viá»‡t Nam Ä‘Ã£ trÆ°á»Ÿng thÃ nh nhanh chÃ³ng.',D:'MÃ¢u thuáº«n trong váº¥n Ä‘á» "táº­p trung" vá»›i "phÃ¢n tÃ¡n" lá»±c lÆ°á»£ng.'},answer:'D'},
  {id:'p1_8',text:'Tháº¯ng lá»£i nÃ o sau Ä‘Ã¢y cá»§a quÃ¢n dÃ¢n miá»n Nam Ä‘Ã£ chá»©ng tá» kháº£ nÄƒng Ä‘Ã¡nh báº¡i "Chiáº¿n tranh Ä‘áº·c biá»‡t" do MÄ© tiáº¿n hÃ nh trong giai Ä‘oáº¡n (1961 â€“ 1965)?',options:{A:'VÄ©nh Tháº¡nh â€“ BÃ¬nh Äá»‹nh.',B:'áº¤p Báº¯c â€“ MÄ© Tho.',C:'Äá»“ng XoÃ i â€“ BÃ¬nh PhÆ°á»›c.',D:'Váº¡n TÆ°á»ng â€“ Quáº£ng NgÃ£i.'},answer:'B'},
  {id:'p1_9',text:'Tháº¯ng lá»£i cá»§a chiáº¿n dá»‹ch nÃ o sau Ä‘Ã¢y Ä‘Ã£ Ä‘Ã¡nh dáº¥u cuá»™c Tá»•ng tiáº¿n cÃ´ng vÃ  ná»•i dáº­y XuÃ¢n 1975 toÃ n tháº¯ng?',options:{A:'Chiáº¿n dá»‹ch ÄÆ°á»ng 14.',B:'Chiáº¿n dá»‹ch Há»“ ChÃ­ Minh.',C:'Chiáº¿n dá»‹ch Huáº¿ â€“ ÄÃ  Náºµng.',D:'Chiáº¿n dá»‹ch TÃ¢y NguyÃªn.'},answer:'B'},
  {id:'p1_10',text:'Ban Cháº¥p hÃ nh Trung Æ°Æ¡ng Äáº£ng Lao Ä‘á»™ng Viá»‡t Nam há»p Há»™i nghá»‹ láº§n thá»© 15 (1 â€“ 1959) Ä‘Ã£ nháº­n Ä‘á»‹nh má»™t trong káº» thÃ¹ cá»§a cÃ¡ch máº¡ng miá»n Nam lÃ ',options:{A:'chÃ­nh quyá»n NgÃ´ ÄÃ¬nh Diá»‡m.',B:'chá»§ nghÄ©a quÃ¢n phiá»‡t Nháº­t.',C:'cÃ¡c nÆ°á»›c tÆ° báº£n phÆ°Æ¡ng TÃ¢y.',D:'táº­p Ä‘oÃ n Nguyá»…n VÄƒn Thiá»‡u.'},answer:'A'},
  {id:'p1_11',text:'Tá»• chá»©c nÃ o sau Ä‘Ã¢y thá»±c hiá»‡n nhiá»‡m vá»¥ lÃ£nh Ä‘áº¡o cÃ´ng cuá»™c Äá»•i má»›i Ä‘áº¥t nÆ°á»›c á»Ÿ Viá»‡t Nam?',options:{A:'Äáº£ng Lao Ä‘á»™ng Viá»‡t Nam.',B:'Äáº£ng Cá»™ng sáº£n Viá»‡t Nam.',C:'Äáº£ng DÃ¢n chá»§ Viá»‡t Nam.',D:'Äáº£ng Cáº¥p tiáº¿n Viá»‡t Nam.'},answer:'B'},
  {id:'p1_12',text:'Táº¡i sao trong giai Ä‘oáº¡n Ä‘áº§u cá»§a thá»i kÃ¬ Ä‘á»•i má»›i (1986 - 1990), Äáº£ng Cá»™ng sáº£n Viá»‡t Nam chá»§ trÆ°Æ¡ng thá»±c hiá»‡n Ba chÆ°Æ¡ng trÃ¬nh kinh táº¿ lá»›n?',options:{A:'Giáº£i quyáº¿t nhu cáº§u trÆ°á»›c máº¯t cá»§a nhÃ¢n dÃ¢n.',B:'TÄƒng cÆ°á»ng xÃ¢y dá»±ng quÃ¢n Ä‘á»™i chÃ­nh quy.',C:'Giáº£i quyáº¿t nhu cáº§u viá»‡c lÃ m cho ngÆ°á»i dÃ¢n.',D:'Háº¡n cháº¿ áº£nh hÆ°á»Ÿng khi LiÃªn XÃ´ khá»§ng hoáº£ng.'},answer:'A'},
  {id:'p1_13',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y pháº£n Ã¡nh khÃ´ng Ä‘Ãºng bá»‘i cáº£nh thÃ nh láº­p Hiá»‡p há»™i cÃ¡c quá»‘c gia ÄÃ´ng Nam Ã (ASEAN)?',options:{A:'Nhiá»u tá»• chá»©c liÃªn káº¿t, há»£p tÃ¡c khu vá»±c ra Ä‘á»i.',B:'Viá»‡t Nam chÆ°a káº¿t thÃºc cuá»™c khÃ¡ng chiáº¿n chá»‘ng Má»¹.',C:'Khá»‘i thá»‹ trÆ°á»ng chung chÃ¢u Ã‚u Ä‘ang cÃ³ nhiá»u khá»Ÿi sáº¯c.',D:'Xu tháº¿ Ä‘a cá»±c Ä‘ang Ä‘Æ°á»£c thiáº¿t láº­p trÃªn pháº¡m vi tháº¿ giá»›i.'},answer:'D'},
  {id:'p1_14',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  yáº¿u tá»‘ khÃ¡ch quan thÃºc Ä‘áº©y sá»± ra Ä‘á»i cá»§a tá»• chá»©c ASEAN?',options:{A:'Nhu cáº§u liÃªn káº¿t Ä‘á»ƒ phÃ¡t triá»ƒn kinh táº¿.',B:'Duy trÃ¬ hÃ²a bÃ¬nh vÃ  á»•n Ä‘á»‹nh khu vá»±c.',C:'CÃ¡c nÆ°á»›c ÄÃ´ng Nam Ã gáº·p khÃ³ khÄƒn.',D:'CÃ¡c nÆ°á»›c TÃ¢y Ã‚u há»£p tÃ¡c cÃ³ hiá»‡u quáº£.'},answer:'D'},
  {id:'p1_15',text:'Sá»± kiá»‡n nÃ o sau Ä‘Ã¢y cÃ³ Ã½ nghÄ©a Ä‘Ã¡nh dáº¥u bÆ°á»›c phÃ¡t triá»ƒn má»›i cá»§a quÃ¡ trÃ¬nh hÃ²a giáº£i, hÃ²a nháº­p vÃ  phÃ¡t triá»ƒn cá»§a ÄÃ´ng Nam Ã?',options:{A:'Hiá»‡p Æ°á»›c Ba-li Ä‘Æ°á»£c kÃ­ káº¿t (1976).',B:'Viá»‡t Nam gia nháº­p ASEAN (1997).',C:'Hiáº¿n chÆ°Æ¡ng ASEAN Ä‘Æ°á»£c thÃ´ng qua (2007).',D:'Cá»™ng Ä‘á»“ng ASEAN Ä‘Æ°á»£c thÃ nh láº­p (2015).'},answer:'B'},
  {id:'p1_16',text:'NhÃ¢n váº­t lá»‹ch sá»­ nÃ o sau Ä‘Ã¢y lÃ  ngÆ°á»i tá»• chá»©c phong trÃ o ÄÃ´ng du Ä‘áº§u tháº¿ ká»· XX?',options:{A:'Phan Chu Trinh.',B:'Huá»³nh ThÃºc KhÃ¡ng.',C:'Phan ÄÃ¬nh PhÃ¹ng.',D:'Phan Bá»™i ChÃ¢u.'},answer:'D'},
  {id:'p1_17',text:'Sau khi bá»‹ trá»¥c xuáº¥t khá»i Nháº­t Báº£n, Phan Bá»™i ChÃ¢u vÃ  Duy TÃ¢n há»™i Ä‘Ã£ Ä‘áº¿n hoáº¡t Ä‘á»™ng á»Ÿ quá»‘c gia nÃ o sau Ä‘Ã¢y?',options:{A:'PhÃ¡p.',B:'XiÃªm.',C:'Ai cáº­p.',D:'AngiÃªri.'},answer:'B'},
  {id:'p1_18',text:'Ná»™i dung nÃ o sau Ä‘Ã¢y lÃ  háº¡n cháº¿ trong Hiá»‡p Ä‘á»‹nh GiÆ¡-ne-vÆ¡ 1954 Ä‘Ã£ Ä‘Æ°á»£c kháº¯c phá»¥c trong Hiá»‡p Ä‘á»‹nh Paris 1973?',options:{A:'Váº¥n Ä‘á» chuyá»ƒn quÃ¢n, táº­p káº¿t.',B:'Váº¥n Ä‘á» ba lá»±c lÆ°á»£ng chÃ­nh trá»‹.',C:'Tá»• chá»©c hai vÃ¹ng kiá»ƒm soÃ¡t.',D:'Sá»± giÃ¡m sÃ¡t cá»§a quá»‘c táº¿.'},answer:'A'},
  {id:'p1_19',text:'NÄƒm 1929, Há»™i Viá»‡t Nam CÃ¡ch máº¡ng Thanh niÃªn phÃ¢n liá»‡t thÃ nh cÃ¡c tá»• chá»©c cá»™ng sáº£n nÃ o sau Ä‘Ã¢y?',options:{A:'TÃ¢n Viá»‡t vÃ  ÄÃ´ng DÆ°Æ¡ng Cá»™ng sáº£n Ä‘áº£ng.',B:'ÄÃ´ng DÆ°Æ¡ng Cá»™ng sáº£n Äáº£ng vÃ  An Nam Cá»™ng sáº£n Äáº£ng.',C:'Viá»‡t Nam Quá»‘c dÃ¢n Äáº£ng vÃ  ÄÃ´ng DÆ°Æ¡ng Cá»™ng sáº£n Ä‘áº£ng.',D:'ÄÃ´ng DÆ°Æ¡ng Cá»™ng sáº£n Ä‘áº£ng vÃ  Há»™i liÃªn hiá»‡p thuá»™c Ä‘á»‹a.'},answer:'B'},
  {id:'p1_20',text:'Tá»• chá»©c nÃ o sau Ä‘Ã¢y Ä‘Æ°á»£c Nguyá»…n Ãi Quá»‘c thÃ nh láº­p Ä‘Æ°á»£c xem lÃ  tiá»n thÃ¢n cá»§a Äáº£ng Cá»™ng sáº£n Viá»‡t Nam?',options:{A:'Há»™i cÃ¡c dÃ¢n tá»™c bá»‹ Ã¡p bá»©c á»Ÿ Ã ÄÃ´ng.',B:'Há»™i LiÃªn hiá»‡p cÃ¡c dÃ¢n tá»™c thuá»™c Ä‘á»‹a.',C:'Viá»‡t Nam Ä‘á»™c láº­p Ä‘á»“ng minh há»™i.',D:'Há»™i Viá»‡t Nam CÃ¡ch máº¡ng Thanh niÃªn.'},answer:'D'},
  {id:'p1_21',text:'Nháº­n xÃ©t nÃ o sau Ä‘Ã¢y vá» quan há»‡ quá»‘c táº¿ tá»« sau Chiáº¿n tranh tháº¿ giá»›i thá»© hai lÃ  khÃ´ng Ä‘Ãºng?',options:{A:'Tháº¿ giá»›i trong tÃ¬nh tráº¡ng Ä‘á»‘i Ä‘áº§u cÄƒng tháº³ng, Ä‘á»‰nh cao lÃ  Chiáº¿n tranh láº¡nh.',B:'Xu tháº¿ hÃ²a hoÃ£n giá»¯a hai phe trá»Ÿ thÃ nh ná»™i dung chá»§ Ä‘áº¡o tá»« nhá»¯ng nÄƒm 80.',C:'Quan há»‡ quá»‘c táº¿ cÄƒng tháº³ng, Ä‘á»‘i Ä‘áº§u nguy cÆ¡ ná»• ra chiáº¿n tranh tháº¿ tháº¿ giá»›i.',D:'Chiáº¿n tranh láº¡nh cháº¥m dá»©t, quan há»‡ quá»‘c táº¿ chuyá»ƒn sang thá»i ká»³ Ä‘á»‘i thoáº¡i.'},answer:'B'},
  {id:'p1_22',text:'BÃ i há»c kinh nghiá»‡m nÃ o sau Ä‘Ã¢y cá»§a Tá»•ng khá»Ÿi nghÄ©a thÃ¡ng TÃ¡m nÄƒm 1945 Ä‘Æ°á»£c Äáº£ng Cá»™ng sáº£n Viá»‡t Nam tiáº¿p tá»¥c váº­n dá»¥ng trong cÃ´ng cuá»™c cÃ´ng nghiá»‡p, hÃ³a hiá»‡n Ä‘áº¡i hÃ³a Ä‘áº¥t nÆ°á»›c hiá»‡n nay?',options:{A:'Láº¥y phÃ¡t triá»ƒn nÃ´ng thÃ´n lÃ m Ä‘á»™ng lá»±c phÃ¡t triá»ƒn.',B:'Káº¿t há»£p Ä‘áº¥u tranh chÃ­nh trá»‹ vá»›i Ä‘áº¥u tranh vÅ© trang.',C:'XÃ¢y dá»±ng máº·t tráº­n Tá»• quá»‘c Ä‘á»ƒ Ä‘oÃ n káº¿t toÃ n dÃ¢n.',D:'Táº­n dá»¥ng cÆ¡ há»™i tá»« cÃ¡c cuá»™c chiáº¿n tranh Ä‘á»ƒ phÃ¡t triá»ƒn.'},answer:'C'},
  {id:'p1_23',text:'Tá»« thÃ nh cÃ´ng cá»§a cÃ´ng cuá»™c Äá»•i má»›i Ä‘áº¥t nÆ°á»›c tá»« 1986 - 2006, Äáº£ng Cá»™ng sáº£n Viá»‡t Nam rÃºt ra Ä‘Æ°á»£c bÃ i há»c gÃ¬ cho cÃ´ng cuá»™c xÃ¢y dá»±ng vÃ  báº£o vá»‡ tá»• quá»‘c hiá»‡n nay?',options:{A:'Náº¯m báº¯t sá»©c máº¡nh ngoáº¡i lá»±c, coi Ä‘Ã³ lÃ  Ä‘á»™ng lá»±c chÃ­nh.',B:'Äá» cao quyá»n phÃ¡t triá»ƒn sáº£n xuáº¥t tá»± do cá»§a kinh táº¿ tÆ° nhÃ¢n.',C:'XÃ³a bá» háº¿t tÃ n dÆ° cá»§a giai Ä‘oáº¡n trÆ°á»›c khi tiáº¿n hÃ nh Ä‘á»•i má»›i.',D:'KiÃªn trÃ¬ sá»± lÃ£nh Ä‘áº¡o tuyá»‡t Ä‘á»‘i cá»§a Äáº£ng Cá»™ng sáº£n Viá»‡t Nam.'},answer:'D'},
  {id:'p1_24',text:'ÄÃ¡nh giÃ¡ nÃ o sau Ä‘Ã¢y lÃ  Ä‘Ãºng vá» quyáº¿t Ä‘á»‹nh cá»§a Nguyá»…n Ãi Quá»‘c khi thÃ nh láº­p Há»™i Viá»‡t Nam CÃ¡ch máº¡ng thanh niÃªn (1925)?',options:{A:'Tá»• chá»©c duy nháº¥t truyá»n bÃ¡ chá»§ nghÄ©a MÃ¡c vÃ o Viá»‡t Nam.',B:'ThÃ nh láº­p tá»• chá»©c tiá»n thÃ¢n cá»§a Äáº£ng Cá»™ng sáº£n Viá»‡t Nam.',C:'ThÃºc Ä‘áº©y cÃ´ng nhÃ¢n Viá»‡t Nam tÄƒng nhanh vá» sá»‘ lÆ°á»£ng.',D:'ÄÆ°a giai cáº¥p cÃ´ng nhÃ¢n Viá»‡t Nam sang Ä‘áº¥u tranh tá»± giÃ¡c.'},answer:'B'},
];

const PART2_ORIGINAL = [
  {
    id:'p2_1',type:'table',
    tableHtml:`<table class="info-table"><thead><tr><th>Thá»i gian</th><th>Ná»™i dung</th></tr></thead><tbody>
      <tr><td><strong>1967 - 1976</strong></td><td>ThÃ nh láº­p vÃ  bÆ°á»›c Ä‘áº§u phÃ¡t triá»ƒn vá» cÆ¡ cáº¥u tá»• chá»©c, nguyÃªn táº¯c hoáº¡t Ä‘á»™ng. Há»™i nghá»‹ Bá»™ trÆ°á»Ÿng Ngoáº¡i giao ASEAN lÃ  cÆ¡ cháº¿ hoáº¡ch Ä‘á»‹nh chÃ­nh sÃ¡ch cao nháº¥t. NÄƒm 1976, Hiá»‡p Æ°á»›c Ba-li Ä‘Æ°á»£c kÃ­ káº¿t, Ä‘Ã¢y lÃ  sá»± kiá»‡n Ä‘Ã¡nh dáº¥u bÆ°á»›c ngoáº·t cá»§a ASEAN.</td></tr>
      <tr><td><strong>1976 - 1999</strong></td><td>Thiáº¿t láº­p quan há»‡ chÃ­nh trá»‹ á»•n Ä‘á»‹nh trong khu vá»±c, má»Ÿ rá»™ng thÃ nh viÃªn vÃ  tá»«ng bÆ°á»›c nÃ¢ng cao vá»‹ tháº¿ cá»§a ASEAN trÃªn trÆ°á»ng quá»‘c táº¿. ASEAN phÃ¡t triá»ƒn sá»‘ lÆ°á»£ng thÃ nh viÃªn tá»« 5 lÃªn 10 nÆ°á»›c.</td></tr>
      <tr><td><strong>1999 - 2015</strong></td><td>HoÃ n thiá»‡n cÆ¡ cáº¥u tá»• chá»©c, tÄƒng cÆ°á»ng há»£p tÃ¡c ná»™i khá»‘i vÃ  há»£p tÃ¡c quá»‘c táº¿, tá»«ng bÆ°á»›c chuáº©n bá»‹ cho sá»± ra Ä‘á»i cá»§a Cá»™ng Ä‘á»“ng ASEAN. NÄƒm 2007, Hiáº¿n chÆ°Æ¡ng ASEAN Ä‘Æ°á»£c thÃ´ng qua.</td></tr>
      <tr><td><strong>2015 - nay</strong></td><td>Cá»™ng Ä‘á»“ng ASEAN Ä‘Æ°á»£c xÃ¢y dá»±ng vÃ  phÃ¡t triá»ƒn vá»›i ba trá»¥ cá»™t lÃ  Cá»™ng Ä‘á»“ng ChÃ­nh trá»‹ - An ninh, Cá»™ng Ä‘á»“ng Kinh táº¿ vÃ  Cá»™ng Ä‘á»“ng VÄƒn hoÃ¡ â€“ XÃ£ há»™i. ASEAN tÄƒng cÆ°á»ng há»£p tÃ¡c vÃ  káº¿t ná»‘i khu vá»±c, Ä‘á»“ng thá»i khÃ´ng ngá»«ng nÃ¢ng cao vá»‹ tháº¿ trong khu vá»±c vÃ  trÃªn tháº¿ giá»›i.</td></tr>
    </tbody></table>`,
    subQuestions:[
      {key:'a',text:'a) TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n quÃ¡ trÃ¬nh hÃ¬nh thÃ nh vÃ  phÃ¡t triá»ƒn cá»§a tá»• chá»©c há»£p tÃ¡c khu vá»±c á»Ÿ ÄÃ´ng Nam Ã.',answer:true},
      {key:'b',text:'b) Äáº¿n nÄƒm 1995, Cá»™ng Ä‘á»“ng ASEAN Ä‘Ã£ phÃ¡t triá»ƒn vÃ  trá»Ÿ thÃ nh tá»• chá»©c toÃ n khu vá»±c vá»›i 10 thÃ nh viÃªn.',answer:false},
      {key:'c',text:'c) Cá»™ng Ä‘á»“ng ASEAN ra Ä‘á»i vá»›i ba trá»¥ cá»™t há»£p tÃ¡c, trong Ä‘Ã³, ASEAN coi trá»ng xÃ¢y dá»±ng liÃªn minh quÃ¢n sá»±.',answer:false},
      {key:'d',text:'d) ASEAN lÃ  má»™t tá»• chá»©c cÃ³ vai trÃ², vá»‹ tháº¿ quan trá»ng trong tráº­t tá»± tháº¿ giá»›i Ä‘a cá»±c Ä‘Ã£ vÃ  Ä‘ang hÃ¬nh thÃ nh.',answer:true},
    ]
  },
  {
    id:'p2_2',type:'quote',
    quote:`"Tá»« nÄƒm 1996 Ä‘áº¿n nÄƒm 2000 lÃ  bÆ°á»›c ráº¥t quan trá»ng cá»§a thá»i ká»³ phÃ¡t triá»ƒn má»›i - Ä‘áº©y máº¡nh cÃ´ng nghiá»‡p hÃ³a, hiá»‡n Ä‘áº¡i hoÃ¡ Ä‘áº¥t nÆ°á»›c. Nhiá»‡m vá»¥ cá»§a nhÃ¢n dÃ¢n ta lÃ  táº­p trung má»i lá»±c lÆ°á»£ng, tranh thá»§ thá»i cÆ¡, vÆ°á»£t qua thá»­ thÃ¡ch, Ä‘áº©y máº¡nh cÃ´ng cuá»™c Ä‘á»•i má»›i má»™t cÃ¡ch toÃ n diá»‡n vÃ  Ä‘á»“ng bá»™, tiáº¿p tá»¥c phÃ¡t triá»ƒn ná»n kinh táº¿ nhiá»u thÃ nh pháº§n váº­n hÃ nh theo cÆ¡ cháº¿ thá»‹ trÆ°á»ng cÃ³ sá»± quáº£n lÃ½ cá»§a NhÃ  nÆ°á»›c theo Ä‘á»‹nh hÆ°á»›ng xÃ£ há»™i chá»§ nghÄ©a, pháº¥n Ä‘áº¥u Ä‘áº¡t vÃ  vÆ°á»£t má»¥c tiÃªu Ä‘Æ°á»£c Ä‘á» ra trong Chiáº¿n lÆ°á»£c á»•n Ä‘á»‹nh vÃ  phÃ¡t triá»ƒn kinh táº¿- xÃ£ há»™i Ä‘áº¿n nÄƒm 2000."`,
    source:`(Äáº£ng Cá»™ng sáº£n Viá»‡t Nam: VÄƒn kiá»‡n Äáº£ng toÃ n táº­p, \nNxb ChÃ­nh trá»‹ quá»‘c gia, HÃ  Ná»™i 2015, táº­p 55, tr. 427)`,
    subQuestions:[
      {key:'a',text:'a) TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n má»™t trong nhá»¯ng ná»™i dung quan trá»ng trong giai Ä‘oáº¡n Ä‘áº§u cá»§a cÃ´ng cuá»™c Ä‘á»•i má»›i á»Ÿ Viá»‡t Nam.',answer:true},
      {key:'b',text:'b) Trong giai Ä‘oáº¡n Ä‘áº§u Ä‘á»•i má»›i, Viá»‡t Nam Ä‘Ã£ hoÃ n thÃ nh nhiá»‡m vá»¥ cÃ´ng nghiá»‡p hÃ³a, hiá»‡n Ä‘áº¡i hÃ³a Ä‘áº¥t nÆ°á»›c.',answer:false},
      {key:'c',text:'c) PhÃ¡t triá»ƒn kinh táº¿ Ä‘Æ°á»£c xem lÃ  trá»ng tÃ¢m cá»§a cÃ´ng cuá»™c Ä‘á»•i má»›i, xÃ¢y dá»±ng mÃ´ hÃ¬nh kinh táº¿ táº­p trung, bao cáº¥p.',answer:false},
      {key:'d',text:'d) CÃ´ng cuá»™c Ä‘á»•i má»›i á»Ÿ Viá»‡t Nam Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ lÃ  toÃ n diá»‡n vÃ  Ä‘á»“ng bá»™, phÃ¡t huy sá»©c máº¡nh toÃ n dÃ¢n tá»™c.',answer:true},
    ]
  },
  {
    id:'p2_3',type:'quote',
    quote:`"Ngoáº¡i giao Viá»‡t Nam hiá»‡n Ä‘áº¡i mang Ä‘áº­m dáº¥u áº¥n tÆ° tÆ°á»Ÿng Há»“ ChÃ­ Minh. TÆ° tÆ°á»Ÿng Há»“ ChÃ­ Minh vá» ngoáº¡i giao thá»ƒ hiá»‡n trong Ä‘Æ°á»ng lá»‘i quá»‘c táº¿ vÃ  hoáº¡t Ä‘á»™ng Ä‘á»‘i ngoáº¡i cá»§a Äáº£ng vÃ  NhÃ  nÆ°á»›c Viá»‡t Nam, vá»¯ng vÃ ng nguyÃªn táº¯c nhÆ°ng má»m dáº»o vá» sÃ¡ch lÆ°á»£c, quÃ¡n triá»‡t tÆ° tÆ°á»Ÿng tiáº¿n cÃ´ng nhÆ°ng biáº¿t giÃ nh tháº¯ng lá»£i tá»«ng bÆ°á»›c phÃ¹ há»£p vá»›i tÆ°Æ¡ng quan lá»±c lÆ°á»£ng trong nÆ°á»›c vÃ  quá»‘c táº¿."`,
    source:`Nguyá»…n ÄÃ¬nh Bin (Chá»§ biÃªn, 2005), Ngoáº¡i giao Viá»‡t Nam 1945 â€“ 2000, \nNxb. ChÃ­nh trá»‹ Quá»‘c gia, HÃ  Ná»™i, tr. 444.`,
    subQuestions:[
      {key:'a',text:'a) TÆ° liá»‡u Ä‘á» cáº­p Ä‘áº¿n chÃ­nh sÃ¡ch ngoáº¡i giao cá»§a Viá»‡t Nam trong cÃ´ng cuá»™c Ä‘á»•i má»›i Ä‘áº¥t nÆ°á»›c tá»« nÄƒm 1986.',answer:false},
      {key:'b',text:'b) Ngoáº¡i giao Viá»‡t Nam hiá»‡n Ä‘áº¡i mang Ä‘áº­m dáº¥u áº¥n tÆ° tÆ°á»Ÿng Há»“ ChÃ­ Minh, cá»©ng ráº¯n vá» nguyÃªn táº¯c vÃ  sÃ¡ch lÆ°á»£c.',answer:false},
      {key:'c',text:'c) Ngoáº¡i giao Viá»‡t Nam hiá»‡n Ä‘áº¡i Ä‘Ã³ng vai trÃ² quan trá»ng trong quÃ¡ trÃ¬nh xÃ¢y dá»±ng vÃ  báº£o vá»‡ tá»• quá»‘c.',answer:true},
      {key:'d',text:'d) GiÃ nh tháº¯ng lá»£i tá»«ng bÆ°á»›c, láº¥y Ä‘á»™c láº­p tá»± chá»§ lÃ  má»¥c tiÃªu cao nháº¥t lÃ  Ä‘áº·c Ä‘iá»ƒm cá»§a ngoáº¡i giao Viá»‡t Nam.',answer:true},
    ]
  },
  {
    id:'p2_4',type:'quote',
    quote:`"Há»¡i Ä‘á»“ng bÃ o yÃªu quÃ½!
\tHiá»‡n nay quÃ¢n Ä‘á»™i Nháº­t Ä‘Ã£ tan rÃ£, phong trÃ o cá»©u quá»‘c lan trÃ n kháº¯p nÆ°á»›c. Viá»‡t Nam Ä‘á»™c láº­p Ä‘á»“ng minh (Viá»‡t Minh) cÃ³ hÃ ng chá»¥c triá»‡u Ä‘á»™i viÃªn, gá»“m Ä‘á»§ cÃ¡c táº§ng lá»›p sÄ©, nÃ´ng, cÃ´ng, thÆ°Æ¡ng, gá»“m Ä‘á»§ cÃ¡c dÃ¢n tá»™c Viá»‡t, Thá»•, NÃ¹ng, MÆ°á»ng, MÃ¡n. Trong Viá»‡t Minh Ä‘á»“ng bÃ o ta báº¯t tay nhau cháº·t cháº½, khÃ´ng phÃ¢n biá»‡t trai, gÃ¡i, giÃ , tráº», lÆ°Æ¡ng, giÃ¡o, giÃ u, nghÃ¨oâ€¦
\tHá»¡i Ä‘á»“ng bÃ o yÃªu quÃ½!
\tGiá» quyáº¿t Ä‘á»‹nh cho váº­n má»‡nh dÃ¢n tá»™c ta Ä‘Ã£ Ä‘áº¿n. ToÃ n quá»‘c Ä‘á»“ng bÃ o hÃ£y Ä‘á»©ng dáº­y Ä‘em sá»©c ra mÃ  tá»± giáº£i phÃ³ng cho ta".`,
    source:`(Há»“ ChÃ­ Minh (1995), Há»“ ChÃ­ Minh ToÃ n táº­p, táº­p 3, \nNXB ChÃ­nh trá»‹ Quá»‘c gia, HÃ  Ná»™i, tr. 553-554)`,
    subQuestions:[
      {key:'a',text:'a) TÆ° liá»‡u trÃ­ch tá»« "Lá»i kÃªu gá»i toÃ n quá»‘c khÃ¡ng chiáº¿n" cá»§a Chá»§ tá»‹ch Há»“ ChÃ­ Minh vÃ o cuá»‘i nÄƒm 1946.',answer:false},
      {key:'b',text:'b) TÆ° liá»‡u kháº³ng Ä‘á»‹nh máº·t tráº­n Viá»‡t Minh Ä‘Ã£ Ä‘Ã¡nh báº¡i quÃ¢n Ä‘á»™i Nháº­t vÃ  giÃ nh chÃ­nh quyá»n trÃªn toÃ n quá»‘c.',answer:false},
      {key:'c',text:'c) Nháº­t suy yáº¿u, tháº¥t báº¡i trÃªn cÃ¡c chiáº¿n trÆ°á»ng Ä‘ang táº¡o ra thá»i cÆ¡ Ä‘á»ƒ nhÃ¢n dÃ¢n Viá»‡t Nam Ä‘á»©ng lÃªn Ä‘áº¥u tranh giÃ nh Ä‘á»™c láº­p.',answer:true},
      {key:'d',text:'d) Trong cÃ¡ch máº¡ng thÃ¡ng TÃ¡m nÄƒm 1945, máº·t tráº­n Viá»‡t Minh Ä‘Ã£ xÃ¢y dá»±ng vÃ  tá»• chá»©c lá»±c lÆ°á»£ng toÃ n dÃ¢n tá»™c.',answer:true},
    ]
  },
];

// ============================================================
// STATE
// ============================================================
let part1Questions=[],part2Questions=[],answers={};
let timerInterval=null,timeLeft=45*60,startTime=null,examDone=false;

// ============================================================
// UTILS
// ============================================================
function shuffle(arr){const a=[...arr];for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function shuffleOptions(options){const keys=Object.keys(options);const vals=shuffle(keys.map(k=>options[k]));const n={};keys.forEach((k,i)=>{n[k]=vals[i];});return n;}

// ============================================================
// INIT
// ============================================================
function initExam(){
  answers={};timeLeft=45*60;examDone=false;startTime=Date.now();
  part1Questions=shuffle(PART1_ORIGINAL).map(q=>{
    const newOpts=shuffleOptions(q.options);
    const correctVal=q.options[q.answer];
    const newAnswer=Object.keys(newOpts).find(k=>newOpts[k]===correctVal);
    return{...q,options:newOpts,answer:newAnswer};
  });
  part2Questions=shuffle(PART2_ORIGINAL);
  renderPart1();renderPart2();startTimer();updateProgress();
}

// ============================================================
// RENDER PART 1
// ============================================================
function renderPart1(){
  const c=document.getElementById('part1-container');c.innerHTML='';
  part1Questions.forEach((q,idx)=>{
    const b=document.createElement('div');b.className='question-block';b.id='qblock_'+q.id;
    const opts=Object.entries(q.options).map(([k,v])=>`
      <label class="option-label" id="opt_${q.id}_${k}" onclick="selectOption('${q.id}','${k}',this)">
        <input type="radio" name="${q.id}" value="${k}">
        <span class="opt-key">${k}.</span><span>${v}</span>
      </label>`).join('');
    b.innerHTML=`<div class="q-header"><div class="q-num">${idx+1}</div><div class="q-text">${q.text}</div></div><div class="options-grid">${opts}</div>`;
    c.appendChild(b);
  });
}

// ============================================================
// RENDER PART 2
// ============================================================
function renderPart2(){
  const c=document.getElementById('part2-container');c.innerHTML='';
  part2Questions.forEach((q,idx)=>{
    const b=document.createElement('div');b.className='question-block';b.id='qblock_'+q.id;
    const content=q.type==='table'?q.tableHtml:`<div class="q-blockquote">${q.quote}<span class="source">${q.source}</span></div>`;
    const subs=q.subQuestions.map(sq=>`
      <div class="sub-q-block">
        <div class="sub-q">${sq.text}</div>
        <div class="tf-grid">
          <label class="tf-label" id="tf_${q.id}_${sq.key}_true" onclick="selectTF('${q.id}','${sq.key}',true,this)"><input type="radio" name="${q.id}_${sq.key}" value="true"> âœ… ÄÃºng</label>
          <label class="tf-label" id="tf_${q.id}_${sq.key}_false" onclick="selectTF('${q.id}','${sq.key}',false,this)"><input type="radio" name="${q.id}_${sq.key}" value="false"> âŒ Sai</label>
        </div>
      </div>`).join('');
    b.innerHTML=`<div class="q-header"><div class="q-num">${idx+1}</div><div class="q-text">Cho thÃ´ng tin sau Ä‘Ã¢y:</div></div>${content}${subs}`;
    c.appendChild(b);
  });
}

// ============================================================
// INTERACTIONS
// ============================================================
function selectOption(qId,key,el){
  if(examDone)return;
  document.querySelectorAll(`[id^="opt_${qId}_"]`).forEach(l=>l.classList.remove('selected'));
  el.classList.add('selected');answers[qId]=key;
  const bl=document.getElementById('qblock_'+qId);if(bl)bl.classList.add('answered');
  updateProgress();
}
function selectTF(qId,subKey,val,el){
  if(examDone)return;
  ['true','false'].forEach(v=>{const e=document.getElementById(`tf_${qId}_${subKey}_${v}`);if(e)e.classList.remove('selected-true','selected-false');});
  el.classList.add(val?'selected-true':'selected-false');
  answers[`${qId}_${subKey}`]=val;updateProgress();
}

// ============================================================
// PROGRESS
// ============================================================
function updateProgress(){
  const p1=part1Questions.filter(q=>answers[q.id]!==undefined).length;
  let p2=0;part2Questions.forEach(q=>q.subQuestions.forEach(sq=>{if(answers[`${q.id}_${sq.key}`]!==undefined)p2++;}));
  const total=40,done=p1+p2,pct=Math.round(done/total*100);
  document.getElementById('progress-bar').style.width=pct+'%';
  document.getElementById('progress-label').textContent=`ÄÃ£ tráº£ lá»i: ${done} / ${total} cÃ¢u/Ã½ (${pct}%)`;
  document.getElementById('action-info').textContent=`Pháº§n I: ${p1}/24 | Pháº§n II: ${p2}/16 Ã½`;
}

// ============================================================
// TIMER
// ============================================================
function startTimer(){
  clearInterval(timerInterval);
  timerInterval=setInterval(()=>{timeLeft--;updateTimerDisplay();if(timeLeft<=0){clearInterval(timerInterval);submitExam();}},1000);
}
function updateTimerDisplay(){
  const m=Math.floor(timeLeft/60),s=timeLeft%60;
  const el=document.getElementById('timer-display');
  el.textContent=String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
  el.className='';
  if(timeLeft<=60)el.classList.add('danger');
  else if(timeLeft<=300)el.classList.add('warning');
}

// ============================================================
// MODAL
// ============================================================
function openSubmitModal(){
  const p1=part1Questions.filter(q=>answers[q.id]!==undefined).length;
  let p2=0;part2Questions.forEach(q=>q.subQuestions.forEach(sq=>{if(answers[`${q.id}_${sq.key}`]!==undefined)p2++;}));
  const u=(24-p1)+(16-p2);
  document.getElementById('modal-unanswered-text').textContent=u>0?`CÃ²n ${u} cÃ¢u/Ã½ chÆ°a tráº£ lá»i. Báº¡n cÃ³ cháº¯c muá»‘n ná»™p bÃ i?`:'Báº¡n Ä‘Ã£ tráº£ lá»i táº¥t cáº£ cÃ¡c cÃ¢u. XÃ¡c nháº­n ná»™p bÃ i?';
  document.getElementById('submit-modal').classList.add('show');
}
function closeModal(){document.getElementById('submit-modal').classList.remove('show');}

// ============================================================
// GRADING
// ============================================================
function submitExam(){
  clearInterval(timerInterval);closeModal();examDone=true;
  const elapsed=Math.round((Date.now()-startTime)/1000);
  const elapsedStr=String(Math.floor(elapsed/60)).padStart(2,'0')+':'+String(elapsed%60).padStart(2,'0');
  let p1Correct=0;
  part1Questions.forEach(q=>{if(answers[q.id]===q.answer)p1Correct++;});
  const p1Score=p1Correct*0.25;
  const p2Map=[0,0.1,0.25,0.5,1.0];let p2Score=0;
  part2Questions.forEach(q=>{let cc=0;q.subQuestions.forEach(sq=>{const ua=answers[`${q.id}_${sq.key}`];if(ua!==undefined&&ua===sq.answer)cc++;});p2Score+=p2Map[cc];});
  const total=p1Score+p2Score;
  document.getElementById('result-total').textContent=total.toFixed(2);
  document.getElementById('res-p1').textContent=p1Score.toFixed(2)+' Ä‘';
  document.getElementById('res-p2').textContent=p2Score.toFixed(2)+' Ä‘';
  document.getElementById('res-p1-correct').textContent=p1Correct+'/24';
  document.getElementById('res-time').textContent=elapsedStr;
  renderReview(p2Map);
  document.getElementById('exam-screen').style.display='none';
  document.getElementById('result-screen').style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
}

// ============================================================
// REVIEW
// ============================================================
function renderReview(p2Map){
  const c=document.getElementById('review-container');
  c.innerHTML='<div class="review-title">ğŸ“ Chá»¯a Ä‘Ã¡p Ã¡n chi tiáº¿t</div>';
  c.innerHTML+='<div style="font-weight:700;color:#1a2744;margin-bottom:0.8rem;font-size:0.92rem;">ğŸ“š PHáº¦N I â€” Tráº¯c nghiá»‡m</div>';
  part1Questions.forEach((q,idx)=>{
    const ua=answers[q.id],correct=ua===q.answer;
    const item=document.createElement('div');
    item.className='review-item '+(ua===undefined?'':correct?'correct':'wrong');
    const status=ua===undefined?'<span class="review-status" style="background:#f3f4f6;color:#6b7280">â¬œ ChÆ°a tráº£ lá»i</span>':correct?'<span class="review-status status-correct">âœ… ÄÃºng</span>':'<span class="review-status status-wrong">âŒ Sai</span>';
    item.innerHTML=`${status}<div class="review-q-text">CÃ¢u ${idx+1}: ${q.text}</div>${!correct?`<div class="review-answer answer-your">â–¶ Báº¡n chá»n: ${ua?ua+'. '+q.options[ua]:'ChÆ°a tráº£ lá»i'}</div>`:''}<div class="review-answer answer-correct">âœ” ÄÃ¡p Ã¡n Ä‘Ãºng: ${q.answer}. ${q.options[q.answer]}</div>`;
    c.appendChild(item);
  });
  const p2h=document.createElement('div');
  p2h.innerHTML='<div style="font-weight:700;color:#1a2744;margin:1.5rem 0 0.8rem;font-size:0.92rem;">ğŸ“– PHáº¦N II â€” ÄÃºng / Sai</div>';
  c.appendChild(p2h);
  part2Questions.forEach((q,idx)=>{
    let cc=0;q.subQuestions.forEach(sq=>{const ua=answers[`${q.id}_${sq.key}`];if(ua!==undefined&&ua===sq.answer)cc++;});
    const qScore=p2Map[cc];
    const sCls=cc===4?'status-correct':cc>=2?'status-partial':'status-wrong';
    const sIcon=cc===4?'âœ…':cc>=2?'âš ï¸':'âŒ';
    const item=document.createElement('div');
    item.className='review-item '+(cc===4?'correct':'wrong');
    const content=q.type==='table'?q.tableHtml:`<div class="review-blockquote">${q.quote}<span style="font-style:normal;font-size:0.75rem;color:#9ca3af;display:block;margin-top:0.4rem;">${q.source}</span></div>`;
    const rows=q.subQuestions.map(sq=>{const ua=answers[`${q.id}_${sq.key}`];const ok=ua!==undefined&&ua===sq.answer;return`<div style="padding:0.4rem 0;border-bottom:1px solid #f0f2f5;font-size:0.84rem;"><span style="color:#374151;font-weight:500;">${sq.text}</span><br><span style="color:${ua===undefined?'#9ca3af':ok?'#16a34a':'#dc2626'}">â–¶ Báº¡n chá»n: <b>${ua===undefined?'ChÆ°a chá»n':ua?'ÄÃºng':'Sai'}</b></span> &nbsp;|&nbsp; <span style="color:#16a34a">âœ” ÄÃ¡p Ã¡n: <b>${sq.answer?'ÄÃºng':'Sai'}</b></span> ${ok?' <span style="color:#16a34a">âœ…</span>':' <span style="color:#dc2626">âŒ</span>'}</div>`;}).join('');
    item.innerHTML=`<span class="review-status ${sCls}">${sIcon} ${cc}/4 Ã½ Ä‘Ãºng â€” ${qScore.toFixed(2)} Ä‘iá»ƒm</span><div class="review-q-text" style="margin-bottom:0.6rem;">CÃ¢u ${idx+1} â€” Pháº§n II</div>${content}<div style="margin-top:0.5rem;">${rows}</div>`;
    c.appendChild(item);
  });
}

// ============================================================
// RESET
// ============================================================
function resetExam(){
  clearInterval(timerInterval);
  document.getElementById('result-screen').style.display='none';
  document.getElementById('exam-screen').style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
  initExam();
}

initExam();
</script>
</body>
      </html>
